\begin{lstlisting}[
    basicstyle=\footnotesize
]
u1 quadrant_code_against(const ty##size##s& rhs) const 
{
 return (*this - rhs).spaceship_mask()
  .plus((*this - rhs).zeros_mask())
  .floor(0).times({2, 1}).inner_sum(); 
}
\end{lstlisting}%
